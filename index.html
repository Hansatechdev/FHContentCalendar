<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>FH Content Calendar</title>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Open Sans', sans-serif; background:#f5f5f5; margin:0; padding:20px; }
    .card { background:white; border-radius:16px; box-shadow:0 4px 12px rgba(0,0,0,0.1); max-width:420px; margin:20px auto; padding:20px; }
    .header { display:flex; justify-content:space-between; align-items:center; margin-bottom:16px; }
    .category { background:#AEBB43; color:white; padding:4px 12px; border-radius:20px; font-size:14px; font-weight:600; }
    .new { background:#F4831B; color:white; padding:2px 8px; border-radius:12px; font-size:12px; }
    .title-row { display:flex; align-items:center; margin-bottom:8px; }
    .logo { width:40px; height:40px; border-radius:50%; margin-right:12px; }
    h2 { margin:0; font-size:22px; color:#000; }
    .date { color:#666; font-size:14px; margin-bottom:16px; }
    p { font-size:18px; line-height:1.6; color:#000; margin:0 0 20px 0; }
    img { width:100%; border-radius:12px; margin:16px 0; }
    .footer { display:flex; justify-content:space-between; align-items:center; font-size:28px; }
    .nav { text-align:center; background:#f0f0f0; padding:15px; border-radius:8px; margin-bottom:20px; }
    select { padding:10px; font-size:16px; border-radius:8px; }
  </style>
</head>
<body>

<div class="nav">
  <strong>Select Date:</strong>
  <select onchange="window.location='/?date='+this.value">
    {% for d in dates %}
      <option value="{{ d }}" {% if d == selected_date %}selected{% endif %}>
        {{ d.strftime('%B %d, %Y') }}
      </option>
    {% endfor %}
  </select>
</div>

{% if posts|length == 0 %}
  <div class="card"><p>No posts for this date.</p></div>
{% endif %}

{% for post in posts %}
<div class="card">
  <div class="header">
    <span class="category">{{ post['Sub-Category'] or 'Organization' }}</span>
    <span class="new">NEW</span>
  </div>

  <div class="title-row">
    <img src="{{ logo }}" class="logo">
    <h2>{{ post['Title'] }}</h2>
  </div>

  <div class="date">{{ selected_date.strftime('%B %d, %Y') }}</div>

  <p>{{ post['Body Text'].replace('\n', '<br>') | safe }}</p>

  {% if post['image'] %}
    <img src="{{ post['image'] }}">
  {% endif %}

  <div class="footer">
    <span>❤️</span>
    {% if post['Hyperlink Text'] and post['Destination URL'] %}
      <a href="{{ post['Destination URL'] }}" style="background:#47BBBC;color:white;padding:10px 24px;border-radius:30px;text-decoration:none;font-weight:600;">
        {{ post['Hyperlink Text'] }}
      </a>
    {% endif %}
  </div>
</div>
{% endfor %}

</body>
</html>